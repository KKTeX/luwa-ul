\documentclass{jlreq}

\usepackage{luwa-ul}
\usepackage{luatexja-ruby}

\begin{document}
\underLineKK{あいうえお}
\underLineKK{あいう\ruby{亜}{あああ}えお}

\overLineKK{あいう\footnote{あああ}えお}
\overLineKK{あいう\ruby{亜}{あああ}えお}

\nijyusen{あい\footnote{あああ}うえお}
\nijyusen{あいう\ruby{亜}{あああ}えお}

\keshinijyusen{あい\footnote{あああ}うえお}
\keshinijyusen{あいう\ruby{亜}{あああ}えお}

\thinHighLight[color=yellow]{あい\footnote{あああ}うえお}
\thinHighLight{あいう\ruby{亜}{あああ}えお}

\thickHighLight[color=yellow]{あい\footnote{あああ}うえお}
\thickHighLight{あいう\ruby{亜}{あああ}えお}

\tenKK{あい\footnote{あああ}うえお}\tenKK*{あい\footnote{あああ}うえお}
\tenKK{あいう\ruby{亜}{あああ}えお}

\dashKK{あい\footnote{あああ}うえお}\dashKK*{あい\footnote{あああ}うえお}
\dashKK{あいう\ruby{亜}{あああ}えお}

\namiKK{あい\footnote{あああ}うえお}\namiKK*{あい\footnote{あああ}うえお}
\namiKK{あいう\ruby{亜}{あああ}えお}
\end{document}